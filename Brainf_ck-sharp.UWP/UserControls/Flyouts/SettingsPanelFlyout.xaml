<UserControl
    x:Class="Brainf_ck_sharp_UWP.UserControls.Flyouts.SettingsPanelFlyout"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:inheritedControls="using:Brainf_ck_sharp_UWP.UserControls.InheritedControls"
    xmlns:ideThemes="using:Brainf_ck_sharp_UWP.UserControls.DataTemplates.IDEThemes"
    xmlns:helpers="using:Brainf_ck_sharp_UWP.Helpers"
    mc:Ignorable="d"
    d:DesignHeight="800"
    d:DesignWidth="400">

    <!--Root-->
    <StackPanel Margin="12,12,16,0">
        
        <!--IDE-->
        <TextBlock
            Text="IDE"
            FontWeight="Bold"
            FontSize="20"
            Foreground="{ThemeResource SystemControlHighlightAccentBrush}"/>

        <!--Auto indent-->
        <TextBlock
            Margin="0,8,0,0"
            TextWrapping="Wrap"
            VerticalAlignment="Center"
            x:Uid="AutoIndentTitle"
            Text="Auto indent brackets"/>
        <ToggleSwitch IsOn="{x:Bind ViewModel.AutoindentBrackets, Mode=TwoWay}"/>

        <!--Brackets style-->
        <TextBlock
            Margin="0,4,0,0"
            Text="Brackets style"
            x:Uid="BracketsStyleTitle"/>
        <inheritedControls:AnimatedComboBox
            Margin="0,8,0,0"
            ItemContainerStyle="{StaticResource FluentComboBoxItemContainerStyle}"
            ItemsSource="{x:Bind ViewModel.BracketsStyleOptions}"
            SelectedIndex="{x:Bind ViewModel.BracketsStyleSelectedIndex, Mode=TwoWay}"
            IsEnabled="{x:Bind ViewModel.AutoindentBrackets, Mode=OneWay}"
            MinWidth="180"/>

        <!--Tab length-->
        <TextBlock
            Margin="0,12,0,0"
            Text="Tab length"
            x:Uid="TabLength"/>
        <inheritedControls:AnimatedComboBox
            Margin="0,8,0,0"
            ItemContainerStyle="{StaticResource FluentComboBoxItemContainerStyle}"
            ItemsSource="{x:Bind ViewModel.TabLengthOptions}"
            SelectedIndex="{x:Bind ViewModel.TabLengthSelectedIndex, Mode=TwoWay}"
            MinWidth="180"/>

        <!--UI-->
        <TextBlock
            Margin="0,16,0,0"
            Text="UI"
            FontWeight="Bold"
            FontSize="20"
            Foreground="{ThemeResource SystemControlHighlightAccentBrush}"/>

        <!--Blur mode-->
        <TextBlock
            Margin="0,8,0,0"
            x:Uid="BlurModeTitle"
            Text="Preferred blur mode"/>
        <inheritedControls:AnimatedComboBox
            Margin="0,8,0,0"
            ItemContainerStyle="{StaticResource FluentComboBoxItemContainerStyle}"
            ItemsSource="{x:Bind ViewModel.BlurModeOptions}"
            SelectedIndex="{x:Bind ViewModel.BlurModeSelectedIndex, Mode=TwoWay}"
            IsEnabled="{x:Bind ViewModel.HostBlurOptionSupported}"
            MinWidth="180"/>

        <!--IDE theme-->
        <TextBlock
            Margin="0,12,0,0"
            Text="IDE theme"
            x:Uid="IDETheme"/>
        <inheritedControls:AnimatedComboBox
            Margin="0,8,0,20"
            ItemsSource="{x:Bind ViewModel.AvailableIDEThemes}"
            SelectedIndex="{x:Bind ViewModel.IDEThemeSelectedIndex, Mode=TwoWay}"
            ItemContainerStyle="{StaticResource ComboBoxWithoutSelectedVisualStatesStyle}"
            MinWidth="180"
            MinHeight="108"
            Padding="1,1,0,1">
            <inheritedControls:AnimatedComboBox.ItemTemplateSelector>
                <helpers:ComboBoxDataTemplateSelector>
                    <helpers:ComboBoxDataTemplateSelector.SelectedTemplate>
                        <DataTemplate>
                            <ideThemes:IDEThemePreviewTemplate Theme="{Binding}"/>
                        </DataTemplate>
                    </helpers:ComboBoxDataTemplateSelector.SelectedTemplate>
                    <helpers:ComboBoxDataTemplateSelector.DropDownTemplate>
                        <DataTemplate>
                            <ideThemes:IDEThemeDropDownPreviewTemplate 
                                MinWidth="180"
                                Theme="{Binding}"/>
                        </DataTemplate>
                    </helpers:ComboBoxDataTemplateSelector.DropDownTemplate>
                </helpers:ComboBoxDataTemplateSelector>
            </inheritedControls:AnimatedComboBox.ItemTemplateSelector>
        </inheritedControls:AnimatedComboBox>
    </StackPanel>
</UserControl>
